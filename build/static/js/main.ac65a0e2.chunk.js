(this["webpackJsonpgithub-search-app"]=this["webpackJsonpgithub-search-app"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(4),c=n.n(a),s=n(53),i=n.n(s),o=(n(62),n(27)),u=n(16),j=(n(63),n(64),function(e){var t=e.events,n=e.data,a=n.text,c=n.theme,s=e.options.buttonSize;return Object(r.jsx)("button",{onClick:t,className:"".concat("big"===s?"big-button":"button"," ").concat(c),children:a})}),l=(n(65),function(e){var t=e.repo;return Object(r.jsxs)("div",{className:"repo-unit",children:[Object(r.jsxs)("div",{className:"repo-unit__left-section",children:[Object(r.jsx)("img",{className:"avatar",src:t.owner.avatarUrl,alt:"avatar"}),Object(r.jsx)("div",{className:"repo-unit__header__owner",children:t.owner.login})]}),Object(r.jsxs)("div",{className:"repo-unit__right-section",children:[Object(r.jsxs)("div",{className:"repo-unit__top-section",children:[Object(r.jsx)("a",{href:t.url,target:"_blank",className:"repo-unit__header__repo-name",children:t.name}),Object(r.jsx)("div",{className:"repo-unit__top-section__stars-count",children:Object(r.jsxs)("p",{children:["\u2b50 ",t.stargazerCount]})})]}),Object(r.jsx)("div",{className:"repo-unit__content",children:Object(r.jsx)("p",{children:t.description})}),Object(r.jsx)("div",{className:"repo-unit__languages",children:(null===t||void 0===t?void 0:t.languages.nodes)&&t.languages.nodes.map((function(e,t){return Object(r.jsx)("span",{children:e.name},t)}))})]})]})}),d=(n(66),function(e){var t=e.list;return Object(r.jsx)("div",{className:"repo-section",children:Object(r.jsx)(r.Fragment,{children:t.map((function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{repo:e.node},t),Object(r.jsx)("hr",{})]})}))})})}),h=(n(67),"Search Repos"),b="Load More Repositories",p="Loading.....",O=function(){return Object(r.jsxs)("div",{className:"spinner-position",children:[Object(r.jsx)("div",{class:"spinner"}),Object(r.jsx)("p",{children:p})]})},m=(n(68),function(e){var t=e.onSearch,n=Object(a.useState)(""),c=Object(o.a)(n,2),s=c[0],i=c[1];return Object(r.jsxs)("div",{className:"search-container",children:[Object(r.jsx)("input",{type:"search",name:"searchText",value:s,className:"search-container__search-input",onChange:function(e){return i(e.target.value)}}),Object(r.jsx)(j,{events:function(){return t(s)},data:{theme:"light",text:"Search"},options:{buttonSize:"small"}})]})}),g=(n(69),function(e){var t=e.text;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{className:"error-position",children:t})})}),x=n(54);function f(){var e=Object(x.a)(["\n    query getRepos(\n      $repositoryName: String!\n      $after: String\n      $limit: Int!\n    ) {\n      search(\n        query: $repositoryName\n        first: $limit\n        after: $after\n        type: REPOSITORY\n      ) {\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n        repositoryCount\n        edges {\n          node {\n            ... on Repository {\n              owner {\n                avatarUrl\n                login\n              }\n              primaryLanguage {\n                name\n              }\n              languages(first: 5) {\n                nodes {\n                  name\n                }\n              }\n              name\n              url\n              description              \n              stargazerCount\n              updatedAt\n              openGraphImageUrl\n            }\n          }\n        }\n      }\n    }\n  "]);return f=function(){return e},e}var v={GET_REPOSITORIES:Object(u.gql)(f())},N=function(e){var t=e.moreItems,n=e.isNextPageExists;return Object(r.jsx)(c.a.Fragment,{children:n&&Object(r.jsx)("div",{children:Object(r.jsx)(j,{events:t,data:{text:b,theme:"light"},options:{buttonSize:"big"}})})})},_=(n(77),function(){return Object(r.jsx)("header",{className:"header",children:Object(r.jsx)("h1",{className:"header__title",children:h})})}),y=n(39),S=n(21),I=function(){var e=Object(a.useState)("react"),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(5),i=Object(o.a)(s,2),j=i[0],l=(i[1],Object(u.useQuery)(v.GET_REPOSITORIES,{variables:{repositoryName:n,limit:j}})),h=l.loading,b=l.error,p=l.data,x=l.fetchMore;return Object(r.jsxs)("div",{className:"search-page",children:[Object(r.jsx)(_,{}),h&&Object(r.jsx)(O,{}),b&&Object(r.jsx)(g,{error:b}),!h&&Object(r.jsx)(m,{onSearch:function(e){return c(e),function(e,t,n){e({variables:{repositoryName:t,limit:n},updateQuery:function(e,t){return t.fetchMoreResult||e}})}(x,e,j)}}),p&&p.search.edges.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d,{list:p.search.edges}),Object(r.jsx)(N,{moreItems:function(){return function(e,t,n,r){e({variables:{repositoryName:t,after:r,limit:n},updateQuery:function(e,t){var n=t.fetchMoreResult;return n?Object.assign({},e,Object(S.a)(Object(S.a)({},n),{},{search:Object(S.a)(Object(S.a)({},n.search),{},{edges:[].concat(Object(y.a)(e.search.edges),Object(y.a)(n.search.edges))})})):e}})}(x,n,j,p.search.pageInfo.endCursor)},isNextPageExists:p.search.pageInfo.hasNextPage})]}):Object(r.jsx)(g,{error:"0 results found, try again!"})]})};var R=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(I,{})})},w="https://api.github.com/graphql",C="3a6a2880c09d68d3288e23e1763b6f6a399fe50f",E=new u.HttpLink({uri:w}),P=new u.ApolloLink((function(e,t){return e.setContext((function(e){var t=e.headers,n=void 0===t?{}:t;return{headers:Object(S.a)(Object(S.a)({},n),{},{authorization:"bearer ".concat(C)})}})),t(e)})),k=new u.ApolloClient({cache:new u.InMemoryCache,link:Object(u.from)([P,E])});i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.ApolloProvider,{client:k,children:Object(r.jsx)(R,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ac65a0e2.chunk.js.map