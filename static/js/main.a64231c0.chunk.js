(this["webpackJsonpgithub-search-app"]=this["webpackJsonpgithub-search-app"]||[]).push([[0],{66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(4),c=n.n(a),s=n(53),i=n.n(s),o=(n(66),n(27)),u=n(16),l=(n(67),n(68),function(e){var t=e.events,n=null===e||void 0===e?void 0:e.data,a=n.text,c=n.theme,s=(null===e||void 0===e?void 0:e.options).buttonSize;return Object(r.jsx)("button",{onClick:t,className:"".concat("big"===s?"big-button":"button"," ").concat(c),children:a})}),j=(n(69),function(e){var t=e.repo;return Object(r.jsxs)("div",{className:"repo-unit",children:[Object(r.jsxs)("div",{className:"repo-unit__left-section",children:[Object(r.jsx)("img",{className:"avatar",src:t.owner.avatarUrl,alt:"avatar"}),Object(r.jsx)("div",{className:"repo-unit__header__owner",children:t.owner.login})]}),Object(r.jsxs)("div",{className:"repo-unit__right-section",children:[Object(r.jsxs)("div",{className:"repo-unit__top-section",children:[Object(r.jsx)("a",{href:t.url,target:"_blank",className:"repo-unit__header__repo-name",children:t.name}),Object(r.jsx)("div",{className:"repo-unit__top-section__stars-count",children:Object(r.jsxs)("p",{children:["\u2b50 ",t.stargazerCount]})})]}),Object(r.jsx)("div",{className:"repo-unit__content",children:Object(r.jsx)("p",{children:t.description})}),Object(r.jsx)("div",{className:"repo-unit__languages",children:(null===t||void 0===t?void 0:t.languages.nodes)&&t.languages.nodes.map((function(e,t){return Object(r.jsx)("span",{children:e.name},t)}))})]})]})}),h=(n(70),function(e){var t=e.list;return Object(r.jsx)("div",{className:"repo-section",children:Object(r.jsx)(r.Fragment,{children:t.map((function(e,t){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j,{repo:e.node},t),Object(r.jsx)("hr",{})]})}))})})}),d=(n(71),"Search Repos"),b="Load More Repositories",p="Loading.....",O=function(){return Object(r.jsxs)("div",{className:"spinner-position",children:[Object(r.jsx)("div",{className:"spinner"}),Object(r.jsx)("p",{children:p})]})},m=(n(72),function(e){var t=e.onSearch,n=Object(a.useState)(""),c=Object(o.a)(n,2),s=c[0],i=c[1];return Object(r.jsxs)("div",{className:"search-container",children:[Object(r.jsx)("input",{type:"search",name:"searchText",value:s,className:"search-container__search-input","aria-label":"search",placeholder:"Enter Repository name..",onChange:function(e){return i(e.target.value)}}),Object(r.jsx)(l,{events:function(){return t(s)},data:{theme:"light",text:"Search"},options:{buttonSize:"small"}})]})}),f=(n(73),function(e){var t=e.text;return Object(r.jsx)(r.Fragment,{children:!!t&&Object(r.jsx)("p",{className:"error-position",children:t})})}),x=n(54);function g(){var e=Object(x.a)(["\n    query getRepos(\n      $repositoryName: String!\n      $after: String\n      $limit: Int!\n    ) {\n      search(\n        query: $repositoryName\n        first: $limit\n        after: $after\n        type: REPOSITORY\n      ) {\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n        repositoryCount\n        edges {\n          node {\n            ... on Repository {\n              owner {\n                avatarUrl\n                login\n              }\n              primaryLanguage {\n                name\n              }\n              languages(first: 5) {\n                nodes {\n                  name\n                }\n              }\n              name\n              url\n              description              \n              stargazerCount\n              updatedAt\n              openGraphImageUrl\n            }\n          }\n        }\n      }\n    }\n  "]);return g=function(){return e},e}var v={GET_REPOSITORIES:Object(u.gql)(g())},N=function(e){var t=e.moreItems,n=e.isNextPageExists;return Object(r.jsx)(c.a.Fragment,{children:n&&Object(r.jsx)("div",{children:Object(r.jsx)(l,{events:t,data:{text:b,theme:"light"},options:{buttonSize:"big"}})})})},_=(n(81),function(){return Object(r.jsx)("header",{className:"header",children:Object(r.jsx)("h1",{className:"header__title",children:d})})}),S=n(39),y=n(21),I=function(){var e=Object(a.useState)("rest-api"),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(5),i=Object(o.a)(s,2),l=i[0],j=(i[1],Object(u.useQuery)(v.GET_REPOSITORIES,{variables:{repositoryName:n,limit:l}})),d=j.loading,b=j.error,p=j.data,x=j.fetchMore;return Object(r.jsxs)("div",{className:"search-page",children:[Object(r.jsx)(_,{}),d&&Object(r.jsx)(O,{}),b&&Object(r.jsx)(f,{error:b}),!d&&Object(r.jsx)(m,{onSearch:function(e){return c(e),function(e,t,n){e({variables:{repositoryName:t,limit:n},updateQuery:function(e,t){return t.fetchMoreResult||e}})}(x,e,l)}}),p&&p.search.edges.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{list:p.search.edges}),Object(r.jsx)(N,{moreItems:function(){return function(e,t,n,r){e({variables:{repositoryName:t,after:r,limit:n},updateQuery:function(e,t){var n=t.fetchMoreResult;return n?Object.assign({},e,Object(y.a)(Object(y.a)({},n),{},{search:Object(y.a)(Object(y.a)({},n.search),{},{edges:[].concat(Object(S.a)(e.search.edges),Object(S.a)(n.search.edges))})})):e}})}(x,n,l,p.search.pageInfo.endCursor)},isNextPageExists:p.search.pageInfo.hasNextPage})]}):Object(r.jsx)(f,{error:"0 results found, try again!"})]})};var w=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(I,{})})},R="https://api.github.com/graphql",C="3a6a2880c09d68d3288e23e1763b6f6a399fe50f",E=new u.HttpLink({uri:R}),k=new u.ApolloLink((function(e,t){return e.setContext((function(e){var t=e.headers,n=void 0===t?{}:t;return{headers:Object(y.a)(Object(y.a)({},n),{},{authorization:"bearer ".concat(C)})}})),t(e)})),P=new u.ApolloClient({cache:new u.InMemoryCache,link:Object(u.from)([k,E])}),z=n(57),F=n(58),M=n(60),T=n(59),$=function(e){Object(M.a)(n,e);var t=Object(T.a)(n);function n(e){var r;return Object(z.a)(this,n),(r=t.call(this,e)).state={error:null,errorInfo:null},r}return Object(F.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Something went wrong."}),Object(r.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(r.jsx)("br",{}),this.state.errorInfo.componentStack]})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e,t){return this.setState({error:e,errorInfo:t}),null}}]),n}(c.a.Component);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)($,{children:Object(r.jsx)(u.ApolloProvider,{client:P,children:Object(r.jsx)(w,{})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.a64231c0.chunk.js.map